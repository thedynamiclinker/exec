#!/usr/bin/env bash

NAME="$(basename "$0")"

query=$1;
while [[ -n $2 ]]; do
    query="${query}+$2"
    shift
done

if [[ $NAME == 'g' ]]; then
    [[ -z $1 ]] && browser "https://google.com"
    [[ -n $1 ]] && browser "https://google.com/search?q=${query}"

elif [[ $NAME == 'gi' || $NAME == 'G' ]]; then
    # windows and macos can't handle g and G both existing
    [[ -z $1 ]] && browser --incognito "https://google.com"
    [[ -n $1 ]] && browser --incognito "https://google.com/search?q=${query}"

elif [[ $NAME == 'yt' ]]; then
    [[ -z $1 ]] && browser "http://www.youtube.com/"
    [[ -n $1 ]] && browser "http://www.youtube.com/results?search_query=${query}&sm=3"

elif [[ $NAME == 'gm' ]]; then
    browser "http://www.gmail.com"

fi
